# =============================================================================
# Seafood Price Tracker - 통합 환경변수 설정
# =============================================================================
# 이 파일을 .env로 복사하고 실제 값으로 수정하세요: cp .env.example .env
# Docker Compose는 이 파일을 자동으로 읽어 모든 서비스에 전달합니다.
# =============================================================================

# -----------------------------------------------------------------------------
# 데이터베이스 (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_DB=seafood
POSTGRES_USER=seafood_user
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# 전체 연결 URL (서비스들이 사용)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -----------------------------------------------------------------------------
# 캐시 (Redis)
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}

# -----------------------------------------------------------------------------
# 서비스 간 통신 URL
# -----------------------------------------------------------------------------
# BFF가 호출하는 백엔드 서비스들
CORE_SERVICE_URL=http://core:8000
ML_SERVICE_URL=http://ml:8001

# -----------------------------------------------------------------------------
# 공공데이터 포털 API 키 (data.go.kr)
# https://www.data.go.kr/ 에서 발급받으세요
# -----------------------------------------------------------------------------

# 1. 시세/가격 관련 API
# - 수산물 도매시장별 경락가격 조회
# - 월별 농축수산물 도매가격 정보
PUBLIC_DATA_API_KEY=your_public_data_api_key_here

# KAMIS (한국농수산식품유통공사) API
# https://www.kamis.or.kr/customer/reference/openapi_list.do
KAMIS_API_KEY=your_kamis_api_key_here
KAMIS_CERT_ID=your_cert_id_here

# 2. 수산물유통종합정보 API
# - 품목별 통계, 위판장 정보
FISHERY_DISTRIBUTION_API_KEY=your_fishery_api_key_here

# 3. 품목/코드 관련 API
# - 어종코드 조회
# - 수산물이력제 품목코드 조회
SPECIES_CODE_API_KEY=your_species_code_api_key_here
TRACEABILITY_API_KEY=your_traceability_api_key_here

# 4. 품질/인증 관련 API
# - 품질인증 수산물
# - 유기인증 수산물
# - 지리적표시 수산물
QUALITY_CERT_API_KEY=your_quality_cert_api_key_here
ORGANIC_CERT_API_KEY=your_organic_cert_api_key_here
GI_CERT_API_KEY=your_gi_cert_api_key_here

# 5. 규제/정보 관련 API
# - 포획 금지 어종 정보
PROHIBITED_SPECIES_API_KEY=your_prohibited_species_api_key_here

# -----------------------------------------------------------------------------
# Data Ingestion 서비스 설정
# -----------------------------------------------------------------------------
# 데이터 수집 스케줄 (쉼표로 구분, HH:MM 형식)
SCHEDULE_TIMES=08:30,11:30,15:30

# 시작 시 즉시 실행 여부 (개발/테스트용)
RUN_IMMEDIATELY=false

# 가락시장 API 키 (data.go.kr)
GARAK_API_KEY=your_garak_api_key_here

# 로그 레벨 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# 노량진수산시장 웹사이트 URL (웹 스크래핑용, 선택사항)
NORYANGJIN_URL=http://www.noryangjin.co.kr/price/list

# -----------------------------------------------------------------------------
# ML Service 설정
# -----------------------------------------------------------------------------
# 모델 파일 경로/이름
MODEL_PATH=/models
DETECTION_MODEL=yolo12n.pt

# CLIP 분류 설정
CLIP_MODEL_NAME=ViT-B-32
CLIP_PRETRAINED=openai
# CLIP_DEVICE=cpu
# CLIP_CLASS_LABELS=광어,우럭,참돔,...
# CLIP_PROMPT_TEMPLATE=a photo of {}

# 추론 설정
CONFIDENCE_THRESHOLD=0.5
IOU_THRESHOLD=0.45

# -----------------------------------------------------------------------------
# BFF (Backend for Frontend) 설정
# -----------------------------------------------------------------------------
# 포트
BFF_PORT=3000

# CORS 설정 (개발 시 * 허용, 프로덕션에서는 특정 도메인만)
CORS_ORIGIN=*

# 캐시 TTL (초 단위)
CACHE_TTL=300

# -----------------------------------------------------------------------------
# Core Service 설정
# -----------------------------------------------------------------------------
# 포트
CORE_SERVICE_PORT=8000

# API 문서 활성화 여부
ENABLE_DOCS=true

# -----------------------------------------------------------------------------
# Mobile App 설정
# -----------------------------------------------------------------------------
# BFF API 엔드포인트 (모바일 앱에서 사용)
# 개발: Android 에뮬레이터는 10.0.2.2, iOS 시뮬레이터는 localhost
# 프로덕션: 실제 서버 도메인
API_BASE_URL=http://10.0.2.2:3000/api

# -----------------------------------------------------------------------------
# 개발/디버깅 설정
# -----------------------------------------------------------------------------
# 개발 모드 활성화
NODE_ENV=development
PYTHON_ENV=development

# 디버그 로그 활성화
DEBUG=false

# -----------------------------------------------------------------------------
# 보안 설정 (프로덕션 환경에서 반드시 변경)
# -----------------------------------------------------------------------------
# JWT 시크릿 키 (향후 인증 기능 추가 시 사용)
JWT_SECRET=your_jwt_secret_key_here

# API Rate Limiting (요청/분)
RATE_LIMIT=100

# -----------------------------------------------------------------------------
# 모니터링 & 로깅 (선택사항)
# -----------------------------------------------------------------------------
# Sentry DSN (에러 트래킹)
# SENTRY_DSN=your_sentry_dsn_here

# 로그 파일 경로
# LOG_FILE_PATH=/var/log/seafood-tracker

# =============================================================================
# 사용 방법:
# 1. 이 파일을 .env로 복사: cp .env.example .env
# 2. 공공데이터 포털(data.go.kr)에서 API 키 발급
# 3. .env 파일에서 your_*_here 부분을 실제 값으로 변경
# 4. Docker Compose 실행: docker-compose up -d
# =============================================================================
